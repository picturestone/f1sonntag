{% if toasts|default([])|length %}
    <div class="toast-container position-fixed m-5 top-0 end-0">
        {% for toast in toasts %}
            {{ _self.toast(toast.text, toast.state) }}
        {% endfor %}
    </div>
{% endif %}

{% macro toast(text, state) %}
    {% if text|default('') and state|default('') %}
        {% set stateBackgroundClass = '' %}
        {% if state == TOAST_STATE['SUCCESS'] %}
            {% set stateBackgroundClass = 'bg-success' %}
        {% elseif state == TOAST_STATE['ERROR'] %}
            {% set stateBackgroundClass = 'bg-danger' %}
        {% elseif state == TOAST_STATE['WARNING'] %}
            {% set stateBackgroundClass = 'bg-warning' %}
        {% endif %}

        <div class="toast bg-light show align-items-center" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header bg-white">
                <div style="align-self: stretch; width: 8px;" class="rounded me-2 {{ stateBackgroundClass }}"></div>
                <strong class="me-auto">F1Sonntag</strong>
                <small class="text-muted">Vor wenigen Sekunden</small>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                {{ text }}
            </div>
        </div>
    {% endif %}
{% endmacro %}
